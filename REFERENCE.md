# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`clustershell`](#clustershell): Manage clustershell

**Defined types**

* [`clustershell::group_source`](#clustershellgroup_source): Define group sources
* [`clustershell::group_yaml`](#clustershellgroup_yaml): Manage a group yaml file
* [`clustershell::groupmember`](#clustershellgroupmember): Manage local.cfg group members

## Classes

### clustershell

Manage clustershell

#### Examples

##### 

```puppet
include ::clustershell
```

#### Parameters

The following parameters are available in the `clustershell` class.

##### `fanout`

Data type: `Integer`

Value for clush.conf fanout

Default value: 64

##### `connect_timeout`

Data type: `Integer`

Value for clush.conf connect_timeout

Default value: 15

##### `command_timeout`

Data type: `Integer`

Value for clush.conf command_timeout

Default value: 0

##### `color`

Data type: `String`

Value for clush.conf color

Default value: 'auto'

##### `fd_max`

Data type: `Integer`

Value for clush.conf fd_max

Default value: 8192

##### `history_size`

Data type: `Integer`

Value for clush.conf history_size

Default value: 100

##### `node_count`

Data type: `String`

Value for clush.conf node_count

Default value: 'yes'

##### `verbosity`

Data type: `String`

Value for clush.conf verbosity

Default value: '1'

##### `ssh_user`

Data type: `Optional[String]`

SSH user

Default value: `undef`

##### `ssh_path`

Data type: `String`

Path to SSH command

Default value: 'ssh'

##### `ssh_options`

Data type: `String`

SSH options

Default value: '-oStrictHostKeyChecking=no'

##### `ensure`

Data type: `Enum['present','absent']`

Module ensure property

Default value: 'present'

##### `package_name`

Data type: `String`

clustershell package name

Default value: 'clustershell'

##### `package_ensure`

Data type: `Optional[String]`

The package ensure property, defaults based on `ensure` property

Default value: `undef`

##### `manage_epel`

Data type: `Boolean`

Boolean that sets of EPEL module should be managed for Red Hat based systems

Default value: `true`

##### `install_python`

Data type: `Boolean`

Boolean that sets if python module should be installed

Default value: `false`

##### `python_package_name`

Data type: `Optional[String]`

Package name of python module, only applies to Red Hat based systems

Default value: `undef`

##### `conf_dir`

Data type: `Stdlib::Absolutepath`

Path to clustershell configuration directory

Default value: '/etc/clustershell'

##### `conf`

Data type: `Stdlib::Absolutepath`

Path to clush.conf

Default value: '/etc/clustershell/clush.conf'

##### `conf_template`

Data type: `Any`

clush.conf template

Default value: 'clustershell/clush.conf.erb'

##### `defaults_conf`

Data type: `Stdlib::Absolutepath`

Path to defaults.conf

Default value: '/etc/clustershell/defaults.conf'

##### `defaults_conf_template`

Data type: `Any`

defaults.conf template

Default value: 'clustershell/defaults.conf.erb'

##### `groups_config`

Data type: `Stdlib::Absolutepath`

path to local.cfg groups config file

Default value: '/etc/clustershell/groups.d/local.cfg'

##### `groups_concat_dir`

Data type: `Stdlib::Absolutepath`

groups concat directory

Default value: '/etc/clustershell/tmp'

##### `groups_conf`

Data type: `Stdlib::Absolutepath`

path to groups.conf

Default value: '/etc/clustershell/groups.conf'

##### `groups_conf_template`

Data type: `Any`

groups.conf template

Default value: 'clustershell/groups.conf.erb'

##### `groups_auto_dir`

Data type: `Stdlib::Absolutepath`

path to groups auto directory

Default value: '/etc/clustershell/groups.d'

##### `groups_conf_dir`

Data type: `Stdlib::Absolutepath`

path to groups.conf.d

Default value: '/etc/clustershell/groups.conf.d'

##### `include_slurm_groups`

Data type: `Boolean`

Boolean that sets if should include slurm groups

Default value: `false`

##### `default_group_source`

Data type: `String`

The default group source

Default value: 'local'

##### `default_distant_workername`

Data type: `String`

The default remote command to use, usually `ssh` or `rsh`

Default value: 'ssh'

##### `groupmembers`

Data type: `Hash`

Hash of resources to pass to clustershell::groupmember

Default value: {}

##### `group_yaml`

Data type: `Hash`

Hash of resources to pass to clustershell::group_yaml

Default value: {}

##### `include_genders_groups`

Data type: `Boolean`

Include genders group source

Default value: `false`

##### `manage_genders`

Data type: `Boolean`

Manage genders class when including genders group source

Default value: `true`

## Defined types

### clustershell::group_source

Define group sources

#### Examples

##### 

```puppet
clustershell::group_source { 'slurm':
   ensure  => 'present',
   map     => 'sinfo -h -o "%N" -p $GROUP',
   all     => 'sinfo -h -o "%N"',
   list    => 'sinfo -h -o "%P"',
   reverse => 'sinfo -h -N -o "%P" -n $NODE',
 }
```

#### Parameters

The following parameters are available in the `clustershell::group_source` defined type.

##### `map`

Data type: `String`

map command

##### `ensure`

Data type: `Enum['present','absent','file']`

Ensure property

Default value: 'present'

##### `all`

Data type: `String`

all command

Default value: 'UNSET'

##### `list`

Data type: `String`

list command

Default value: 'UNSET'

##### `reverse`

Data type: `String`

reverse command

Default value: 'UNSET'

##### `section`

Data type: `String`

Name of section for group source

Default value: $name

### clustershell::group_yaml

Manage a group yaml file

#### Examples

##### 

```puppet
clustershell::group_yaml { 'roles':
  data => {
    'roles' => {
      'compute' => 'compute[01-04]',
      'login'   => 'login[01-02]',
    }
  }
}
```

#### Parameters

The following parameters are available in the `clustershell::group_yaml` defined type.

##### `ensure`

Data type: `Enum['present','absent','file']`

File ensure property

Default value: 'present'

##### `data`

Data type: `Hash`

The data to use in defining the YAML groups

Default value: {}

##### `source`

Data type: `Optional[String]`

Source that can be used to define the YAML file

Default value: `undef`

##### `content`

Data type: `Optional[String]`

Content that can override this module's template for this YAML file

Default value: `undef`

### clustershell::groupmember

Manage local.cfg group members

#### Examples

##### 

```puppet
clustershell::groupmember { 'compute':
  group   => 'compute',
  member  => 'compute[01-02]',
}
```

#### Parameters

The following parameters are available in the `clustershell::groupmember` defined type.

##### `group`

Data type: `String`

Name of the group

##### `member`

Data type: `Variant[Array, String]`

Members

Default value: $title

